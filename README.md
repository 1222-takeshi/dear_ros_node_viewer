<h1 align="center">
    <img src="./00_docs/logo.png" alt="Dear RosNodeViewer logo"></a>
</h1>

[![Python application](https://github.com/takeshi-iwanari/dear_ros_node_viewer/actions/workflows/python-app.yml/badge.svg)](https://github.com/takeshi-iwanari/dear_ros_node_viewer/actions/workflows/python-app.yml)

# Dear RosNodeViewer
## About
- Visualize ROS2 node diagram
- Support the following sources:
    - *architecture.yaml* generated by CARET
    - *rosgraph.dot* generated by rqt_graph
    - running ROS graph analysis (experimental)


## Requirements
- Ubuntu 20.04 (Not tested in Windows / Mac)
- optional: ROS 2 Galactic if you need runtime ROS graph analysis


## How to Run
```sh
sudo apt install graphviz graphviz-dev
pip3 install -r requirements.txt
python3 -m dear_ros_node_viewer --graph_file architecture.yaml
```


## Commands for Development
```sh
### Debug ###
python3 main.py --graph_file architecture.yaml

### Install ###
pip3 install ./
# python3 setup.py sdist
# pip3 install dist/dear_ros_node_viewer-1.0.tar.gz

### Test ###
python3 -m pytest --doctest-modules -v --cov=./dear_ros_node_viewer
python3 -m pylint ./dear_ros_node_viewer
```

## To Do
- Others
    - [ ] Save/Load layout
    - [x] Add sample data
    - [ ] Modify setting file
        - layout (horizontal, vertical)
        - fix layout
        - fix color
    - [ ] Filter (topic to be ignored)
    - [ ] Flag to display/hide unconnected node
    - [ ] ~~Improve zoom in/out~~
- Support more formats
    - [x] Graph from dot file generated by rqt_graph
    - [ ] Graph from current ROS status
- Cooperation with CARET
    - [ ] Display executor and callback group
        - from architecture file
    - [ ] Display trigger of publishment
        - from architecture file
        - subscribe, timer(with period time), unknown
- More Cooperation with CARET
    - [ ] Display frequency of publishment and callback
        - need extra data created by CARET analysis
    - [ ] Edit architecture file


# Acknowledgements
- Dear RosNodeViewer utilizes [Dear PyGui](https://github.com/hoffstadt/DearPyGui)
    - *Dear RosNodeViewer* is named in honor of Dear PyGui
